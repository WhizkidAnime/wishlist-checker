# ะัะบะพะฒะพะดััะฒะพ ะฟะพ ัะตััะธัะพะฒะฐะฝะธั - ะะพะน ะะธัะปะธัั

## ๐ ะงัะพ ัะฐะบะพะต ััะธ ัะตััั?

ะฏ ัะพะทะดะฐะป **4 ะฟัะพัััั unit ัะตััะฐ** ะดะปั ัะฐะผัั ะบัะธัะธัะฝัั ััะฝะบัะธะน ะฒะฐัะตะณะพ ะฟัะธะปะพะถะตะฝะธั:

### โ ะกะพะทะดะฐะฝะฝัะต ัะตััั:

1. **`priceCalculator.test.ts`** - ะขะตััะธััะตั ะฟะฐััะตั ัะตะฝ (ััะฝะบัะธั `safeCalculate`)
   - ะัะพะฒะตััะตั ะบะพััะตะบัะฝะพััั ะฒััะธัะปะตะฝะธั ะฒััะฐะถะตะฝะธะน ัะธะฟะฐ "45000+500"
   - ะัะพะฒะตััะตั ะฑะตะทะพะฟะฐัะฝะพััั ะพั ะฒัะตะดะพะฝะพัะฝะพะณะพ ะบะพะดะฐ
   - ะัะพะฒะตััะตั ะพะฑัะฐะฑะพัะบั ะฝะตะบะพััะตะบัะฝัั ะดะฐะฝะฝัั

2. **`localStorageUtils.test.ts`** - ะขะตััะธััะตั ัะพััะฐะฝะตะฝะธะต/ะทะฐะณััะทะบั ะดะฐะฝะฝัั
   - ะัะพะฒะตััะตั ัะพััะฐะฝะตะฝะธะต ัะพะฒะฐัะพะฒ ะฒ localStorage
   - ะัะพะฒะตััะตั ะบะพััะตะบัะฝัั ะทะฐะณััะทะบั ะดะฐะฝะฝัั
   - ะัะพะฒะตััะตั ะพะฑัะฐะฑะพัะบั ะพัะธะฑะพะบ JSON

3. **`useTheme.test.ts`** - ะขะตััะธััะตั ัะธััะตะผั ัะตะผ
   - ะัะพะฒะตััะตั ะฟะตัะตะบะปััะตะฝะธะต ะผะตะถะดั ัะฒะตัะปะพะน ะธ ัะตะผะฝะพะน ัะตะผะพะน
   - ะัะพะฒะตััะตั ัะพััะฐะฝะตะฝะธะต ะฒัะฑัะฐะฝะฝะพะน ัะตะผั
   - ะัะพะฒะตััะตั ะพะฑะฝะพะฒะปะตะฝะธะต CSS ะบะปะฐััะพะฒ

4. **`useWishlist.test.ts`** - ะขะตััะธััะตั ะพัะฝะพะฒะฝัั ะปะพะณะธะบั ะฟัะธะปะพะถะตะฝะธั
   - ะัะพะฒะตััะตั ะดะพะฑะฐะฒะปะตะฝะธะต/ัะดะฐะปะตะฝะธะต ัะพะฒะฐัะพะฒ
   - ะัะพะฒะตััะตั ะฟะพะธัะบ ะธ ัะพััะธัะพะฒะบั
   - ะัะพะฒะตััะตั ะฟะพะดััะตั ะพะฑัะธั ััะผะผ

## ๐ ะะฐะบ ัััะฐะฝะพะฒะธัั ะธ ะทะฐะฟัััะธัั ัะตััั

### ะจะฐะณ 1: ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
```bash
npm install
```

### ะจะฐะณ 2: ะะฐะฟััะบ ัะตััะพะฒ
```bash
# ะะฐะฟัััะธัั ัะตััั ะพะดะธะฝ ัะฐะท
npm run test:run

# ะะฐะฟัััะธัั ัะตััั ะฒ ัะตะถะธะผะต ะฝะฐะฑะปัะดะตะฝะธั (ะพะฑะฝะพะฒะปััััั ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ะบะพะดะฐ)
npm test

# ะะฐะฟัััะธัั ัะตััั ั UI ะธะฝัะตััะตะนัะพะผ (ะตัะปะธ ัััะฐะฝะพะฒะปะตะฝ @vitest/ui)
npm run test:ui
```

## ๐ ะงัะพ ะพะทะฝะฐัะฐัั ัะตะทัะปััะฐัั ัะตััะพะฒ

### โ ะฃัะฟะตัะฝัะน ัะตะทัะปััะฐั ะฒัะณะปัะดะธั ัะฐะบ:
```
โ priceCalculator.test.ts (7 tests) 2ms
  โ ะดะพะปะถะตะฝ ะบะพััะตะบัะฝะพ ะฒััะธัะปััั ะฟัะพัััะต ัะธัะปะฐ
  โ ะดะพะปะถะตะฝ ะบะพััะตะบัะฝะพ ะฒััะธัะปััั ะผะฐัะตะผะฐัะธัะตัะบะธะต ะฒััะฐะถะตะฝะธั
  โ ะดะพะปะถะตะฝ ะธะณะฝะพัะธัะพะฒะฐัั ะฟัะพะฑะตะปั
  โ ะดะพะปะถะตะฝ ะฒะพะทะฒัะฐัะฐัั null ะดะปั ะฝะตะบะพััะตะบัะฝัั ะฒััะฐะถะตะฝะธะน
  โ ะดะพะปะถะตะฝ ะพะฑัะฐะฑะฐััะฒะฐัั ะดะตะปะตะฝะธะต ะฝะฐ ะฝะพะปั
  โ ะดะพะปะถะตะฝ ะบะพััะตะบัะฝะพ ัะฐะฑะพัะฐัั ั ะพััะธัะฐัะตะปัะฝัะผะธ ัะธัะปะฐะผะธ

โ localStorageUtils.test.ts (5 tests) 3ms
โ useTheme.test.ts (8 tests) 12ms
โ useWishlist.test.ts (8 tests) 15ms

Test Files  4 passed (4)
Tests       28 passed (28)
```

### โ ะัะปะธ ัะตัั ัะฟะฐะป:
```
โ priceCalculator.test.ts > ะดะพะปะถะตะฝ ะบะพััะตะบัะฝะพ ะฒััะธัะปััั ะฟัะพัััะต ัะธัะปะฐ
  AssertionError: expected null to be 45500
```

ะญัะพ ะพะทะฝะฐัะฐะตั, ััะพ ััะฝะบัะธั `safeCalculate` ัะฐะฑะพัะฐะตั ะฝะต ัะฐะบ, ะบะฐะบ ะพะถะธะดะฐะปะพัั.

## ๐ง ะะฐะบ ะฟะพะฝะธะผะฐัั, ััะพ ัะตััะธัััั ััะธ ัะตััั

### 1. **ะขะตัั ะฟะฐััะตัะฐ ัะตะฝ** ะฟัะพะฒะตััะตั:
```javascript
// ะญัะธ ะฒััะฐะถะตะฝะธั ะดะพะปะถะฝั ัะฐะฑะพัะฐัั:
safeCalculate('45500') โ 45500
safeCalculate('45000+500') โ 45500
safeCalculate('45 500') โ 45500

// ะญัะธ ะดะพะปะถะฝั ะฒะตัะฝััั null (ะทะฐัะธัะฐ ะพั ัะฐะบะตัะพะฒ):
safeCalculate('alert("hack")') โ null
safeCalculate('45000++') โ null
```

### 2. **ะขะตัั localStorage** ะฟัะพะฒะตััะตั:
```javascript
// ะกะพััะฐะฝะตะฝะธะต ะดะฐะฝะฝัั ะดะพะปะถะฝะพ ัะฐะฑะพัะฐัั:
saveToLocalStorage('test', [ัะพะฒะฐั]) โ ะดะฐะฝะฝัะต ัะพััะฐะฝััััั

// ะะฐะณััะทะบะฐ ะดะฐะฝะฝัั ะดะพะปะถะฝะฐ ัะฐะฑะพัะฐัั:
loadFromLocalStorage('test') โ ะฒะพะทะฒัะฐัะฐะตั ัะพััะฐะฝะตะฝะฝัะต ัะพะฒะฐัั
```

### 3. **ะขะตัั ัะตะผ** ะฟัะพะฒะตััะตั:
```javascript
// ะะตัะตะบะปััะตะฝะธะต ัะตะผั ะดะพะปะถะฝะพ ัะฐะฑะพัะฐัั:
toggleTheme() โ ัะตะผะฐ ะผะตะฝัะตััั ั light ะฝะฐ dark
setTheme('dark') โ ัะพััะฐะฝัะตััั ะฒ localStorage
```

### 4. **ะขะตัั ะฒะธัะปะธััะฐ** ะฟัะพะฒะตััะตั:
```javascript
// ะัะฝะพะฒะฝัะต ะพะฟะตัะฐัะธะธ ะดะพะปะถะฝั ัะฐะฑะพัะฐัั:
handleAddItem(ัะพะฒะฐั) โ ัะพะฒะฐั ะดะพะฑะฐะฒะปัะตััั ะฒ ัะฟะธัะพะบ
handleToggleBought(id) โ ััะฐััั "ะบัะฟะปะตะฝะพ" ะผะตะฝัะตััั
setSearchQuery('iPhone') โ ะฟะพะบะฐะทัะฒะฐัััั ัะพะปัะบะพ iPhone
```

## ๐ฏ ะะฐัะตะผ ััะพ ะฝัะถะฝะพ

### **ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะฟัะธ ะธะทะผะตะฝะตะฝะธัั:**
- ะะทะผะตะฝะธะปะธ ััะฝะบัะธั `safeCalculate`? โ ะขะตัั ััะฐะทั ะฟะพะบะฐะถะตั, ะฝะต ัะปะพะผะฐะปะฐัั ะปะธ ะพะฝะฐ
- ะะตัะตะดะตะปะฐะปะธ `useTheme`? โ ะขะตัั ะฟัะพะฒะตัะธั, ััะพ ะฟะตัะตะบะปััะตะฝะธะต ัะตะผ ัะฐะฑะพัะฐะตั
- ะะฑะฝะพะฒะธะปะธ `useWishlist`? โ ะขะตัั ัะฑะตะดะธััั, ััะพ ะดะพะฑะฐะฒะปะตะฝะธะต ัะพะฒะฐัะพะฒ ะฝะต ัะปะพะผะฐะปะพัั

### **ะฃะฒะตัะตะฝะฝะพััั ะฒ ะบะพะดะต:**
- ะะตัะตะด ะดะตะฟะปะพะตะผ ะผะพะถะตัะต ะทะฐะฟัััะธัั `npm run test:run`
- ะัะปะธ ะฒัะต ัะตััั ะฟัะพัะพะดัั โ โ ะบะพะด ะณะพัะพะฒ ะบ production
- ะัะปะธ ัะตััั ะฟะฐะดะฐัั โ โ ะตััั ะฟัะพะฑะปะตะผั, ะบะพัะพััะต ะฝัะถะฝะพ ะธัะฟัะฐะฒะธัั

### **ะะพะบัะผะตะฝัะฐัะธั ะบะพะดะฐ:**
ะขะตััั ะฟะพะบะฐะทัะฒะฐัั, **ะบะฐะบ ะดะพะปะถะฝั ัะฐะฑะพัะฐัั** ะฒะฐัะธ ััะฝะบัะธะธ. ะญัะพ ะถะธะฒะฐั ะดะพะบัะผะตะฝัะฐัะธั!

## ๐ ะะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒัะต ัะตััั

ะัะปะธ ะทะฐัะพัะธัะต ะฟัะพัะตััะธัะพะฒะฐัั ะฝะพะฒัั ััะฝะบัะธั, ัะพะทะดะฐะนัะต ัะฐะนะป `ะฝะพะฒะฐัะคัะฝะบัะธั.test.ts`:

```javascript
import { describe, it, expect } from 'vitest'
import { ะฝะพะฒะฐัะคัะฝะบัะธั } from '../ะฝะพะฒะฐัะคัะฝะบัะธั'

describe('ะฝะพะฒะฐัะคัะฝะบัะธั', () => {
  it('ะดะพะปะถะฝะฐ ะดะตะปะฐัั ัะพ, ััะพ ะฝัะถะฝะพ', () => {
    expect(ะฝะพะฒะฐัะคัะฝะบัะธั('ะฒัะพะด')).toBe('ะพะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั')
  })
})
```

## ๐ ะกัััะบัััะฐ ัะตััะพะฒ

```
src/
โโโ utils/
โ   โโโ __tests__/
โ   โ   โโโ priceCalculator.test.ts
โ   โ   โโโ localStorageUtils.test.ts
โ   โโโ priceCalculator.ts
โ   โโโ localStorageUtils.ts
โโโ hooks/
โ   โโโ __tests__/
โ   โ   โโโ useTheme.test.ts
โ   โ   โโโ useWishlist.test.ts
โ   โโโ useTheme.ts
โ   โโโ useWishlist.ts
```

## โ๏ธ ะะทะฒะตััะฝัะต ะพะณัะฐะฝะธัะตะฝะธั

1. **Linter ะพัะธะฑะบะธ**: ะะพะบะฐ ะฝะต ะฒัะต ัะธะฟั ัััะฐะฝะพะฒะปะตะฝั, ESLint ะผะพะถะตั ะฟะพะบะฐะทัะฒะฐัั ะพัะธะฑะบะธ
2. **ะะพะบะธ**: ะ ัะตััะฐั ะธัะฟะพะปัะทััััั ะผะพะบะธ (ะฟะพะดะดะตะปะบะธ) ะดะปั localStorage ะธ DOM API
3. **ะัะพััะพัะฐ**: ะญัะพ ะฑะฐะทะพะฒัะต unit ัะตััั, ะผะพะถะฝะพ ัะฐััะธัะธัั integration ัะตััะฐะผะธ

## ๐ ะะฐะบะปััะตะฝะธะต

ะญัะธ 4 ัะตััะฐ ะฟะพะบััะฒะฐัั **ะพัะฝะพะฒะฝัะต ะบัะธัะธัะฝัะต ััะฝะบัะธะธ** ะฒะฐัะตะณะพ ะฟัะธะปะพะถะตะฝะธั:
- โ ะะตะทะพะฟะฐัะฝะพััั ะฟะฐััะตัะฐ ัะตะฝ
- โ ะะฐะดะตะถะฝะพััั ัะพััะฐะฝะตะฝะธั ะดะฐะฝะฝัั  
- โ ะะพััะตะบัะฝะพััั ัะธััะตะผั ัะตะผ
- โ ะะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั ะพัะฝะพะฒะฝะพะน ะปะพะณะธะบะธ ะฒะธัะปะธััะฐ

ะะฐะฟััะบะฐะนัะต ะธั ะฟะตัะตะด ะฒะฐะถะฝัะผะธ ะธะทะผะตะฝะตะฝะธัะผะธ, ะธ ะพะฝะธ ะฟะพะผะพะณัั ะธะทะฑะตะถะฐัั ะฑะฐะณะพะฒ! ๐ 